<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="main.js"></script>
</head>
<body>
async vs defer
다음 js 스크립트의 위치에 따른 성능 차이를 비교 합니다.
<!-- <script src="main.js"></script> -->

1. head 사이에 오는 경우
parsing HTML
fetching js
executing js
parsing HTML
--> js 파일이 큰 경우 보틀넥 발생 (HTML페이지 열리지도않음.)

2. body 사이에 오는 경우
parsing HTML
fetching js
executing js
js에 의존적인 페이지라면 뭉개져서 보일 수 있음

3. head+async
<!-- <script asyn src="main.js"></script> -->
parsing html

병렬로 다운로드
다운 완료가 되면 HTML 다시파싱
다운로드 받는 시간 절약
단점) 자바스크립트가 HTML 파칭 되기 전에 실행됨
-> 돔조작하게되면 위험
-> 사용자는 쫌

4. head+defer
<!-- <script asyn src="main.js"></script> -->

parsing HTML하는 동안 필요한 JS를 받아
다운로드가 먼저 된 아이들을 먼저 실행 -> async

defer는 파싱하는동안 '다운로드를 다 받음'
순서대로 실행함 -> defer
head안에 defer를 넣어 사용하는것이 제일 안전하고 효율적인것으로 확인.

</body>
</html>
 